{
    "AWSEBDockerrunVersion": 2,
    "volumes": [
      {
        "name": "db_data",
        "host": {
          "sourcePath": "/var/lib/mysql"
        }
      }
    ],
    "containerDefinitions": [
      {
        "name": "db",
        "image": "public.ecr.aws/docker/library/mysql:latest",
        "essential": true,
        "memory": 128,
        "environment": [
          { "name": "MYSQL_ROOT_PASSWORD", "value": "z!AN0ZC0M@)z" },
          { "name": "MYSQL_DATABASE", "value": "streetsuite_db" },
          { "name": "MYSQL_USER", "value": "streetsuite_db" },
          { "name": "MYSQL_PASSWORD", "value": "z!AN0ZC0M@)z" }
        ],
        "portMappings": [
          { "hostPort": 3306, "containerPort": 3306 }
        ],
        "mountPoints": [
          { "sourceVolume": "db_data", "containerPath": "/var/lib/mysql" }
        ]
      },
      {
        "name": "djangoserver",
        "image": "sherifgeeklabs/streetsuite-backend",
        "essential": true,
        "memory": 128,
        "command": ["python", "manage.py", "runserver", "0.0.0.0:8000"],
        "portMappings": [
          { "hostPort": 8000, "containerPort": 8000 }
        ],
        "environment": [
          { "name": "SOCIAL_AUTH_GOOGLE_OAUTH2_KEY", "value": "768512569830-tnjqlaja3g91n77nv8i91rb7u5mu2b0c.apps.googleusercontent.com" },
          { "name": "SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET", "value": "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" },
          { "name": "STRIPE_SECRET_KEY", "value": "sk_test_51PNAn4Bizf1bE4kFXqRaCarCuQUQGju0c6QVbxcpCK0dWLveCd05FaNtLZ2Vh6mwns6dOhbvLZVsgDUz7TTN38HF00IbVQx9Ov" },
          { "name": "STRIPE_PUBLISHABLE_KEY", "value": "pk_test_51PNAn4Bizf1bE4kF5t6GuaMhTbT9nU02TJD0Sw0ANJBD8BFfjiVamDKYXDPsS8YIpNTlLddW2MmM88gxwZ6AmMTG00nOn5E1kP" },
          { "name": "STRIP_WEBHOOK_KEY", "value": "whsec_gbH49GXngFXb8M45w0wSaTdhcq66q820" },
          { "name": "DB_HOST", "value": "54.39.103.222" },
          { "name": "DB_PORT", "value": "3306" },
          { "name": "DB_USER", "value": "streetsuite_db" },
          { "name": "DB_PASS", "value": "z!AN0ZC0M@)z" },
          { "name": "DB_NAME", "value": "streetsuite_db" },
          { "name": "EMAIL_HOST_USER", "value": "streetsuits0@gmail.com" },
          { "name": "EMAIL_FROM", "value": "streetsuits0@gmail.com" },
          { "name": "EMAIL_HOST_PASSWORD", "value": "fhvpxomhgvmjvxwn" }
        ]
      },
      {
        "name": "redis",
        "image": "public.ecr.aws/docker/library/redis:latest",
        "essential": true,
        "memory": 128
      },
      {
        "name": "celery",
        "image": "sherifgeeklabs/celery",
        "essential": true,
        "memory": 128,
        "command": ["celery", "-A", "Streetsuite", "worker", "-l", "info"],
        "dependsOn": [
          { "containerName": "redis", "condition": "START" }
        ],
        "environment": [
          { "name": "SOCIAL_AUTH_GOOGLE_OAUTH2_KEY", "value": "768512569830-tnjqlaja3g91n77nv8i91rb7u5mu2b0c.apps.googleusercontent.com" },
          { "name": "SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET", "value": "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" },
          { "name": "STRIPE_SECRET_KEY", "value": "sk_test_51PNAn4Bizf1bE4kFXqRaCarCuQUQGju0c6QVbxcpCK0dWLveCd05FaNtLZ2Vh6mwns6dOhbvLZVsgDUz7TTN38HF00IbVQx9Ov" },
          { "name": "STRIPE_PUBLISHABLE_KEY", "value": "pk_test_51PNAn4Bizf1bE4kF5t6GuaMhTbT9nU02TJD0Sw0ANJBD8BFfjiVamDKYXDPsS8YIpNTlLddW2MmM88gxwZ6AmMTG00nOn5E1kP" },
          { "name": "STRIP_WEBHOOK_KEY", "value": "whsec_gbH49GXngFXb8M45w0wSaTdhcq66q820" },
          { "name": "DB_HOST", "value": "54.39.103.222" },
          { "name": "DB_PORT", "value": "3306" },
          { "name": "DB_USER", "value": "streetsuite_db" },
          { "name": "DB_PASS", "value": "z!AN0ZC0M@)z" },
          { "name": "DB_NAME", "value": "streetsuite_db" },
          { "name": "EMAIL_HOST_USER", "value": "streetsuits0@gmail.com" },
          { "name": "EMAIL_FROM", "value": "streetsuits0@gmail.com" },
          { "name": "EMAIL_HOST_PASSWORD", "value": "fhvpxomhgvmjvxwn" }
        ]
      },
      {
        "name": "celery-beat",
        "image": "sherifgeeklabs/celery-beat",
        "essential": true,
        "memory": 128,
        "command": ["celery", "-A", "Streetsuite", "beat", "-l", "info"],
        "dependsOn": [
          { "containerName": "redis", "condition": "START" },
          { "containerName": "celery", "condition": "START" }
        ],
        "environment": [
          { "name": "SOCIAL_AUTH_GOOGLE_OAUTH2_KEY", "value": "768512569830-tnjqlaja3g91n77nv8i91rb7u5mu2b0c.apps.googleusercontent.com" },
          { "name": "SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET", "value": "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" },
          { "name": "STRIPE_SECRET_KEY", "value": "sk_test_51PNAn4Bizf1bE4kFXqRaCarCuQUQGju0c6QVbxcpCK0dWLveCd05FaNtLZ2Vh6mwns6dOhbvLZVsgDUz7TTN38HF00IbVQx9Ov" },
          { "name": "STRIPE_PUBLISHABLE_KEY", "value": "pk_test_51PNAn4Bizf1bE4kF5t6GuaMhTbT9nU02TJD0Sw0ANJBD8BFfjiVamDKYXDPsS8YIpNTlLddW2MmM88gxwZ6AmMTG00nOn5E1kP" },
          { "name": "STRIP_WEBHOOK_KEY", "value": "whsec_gbH49GXngFXb8M45w0wSaTdhcq66q820" },
          { "name": "DB_HOST", "value": "54.39.103.222" },
          { "name": "DB_PORT", "value": "3306" },
          { "name": "DB_USER", "value": "streetsuite_db" },
          { "name": "DB_PASS", "value": "z!AN0ZC0M@)z" },
          { "name": "DB_NAME", "value": "streetsuite_db" },
          { "name": "EMAIL_HOST_USER", "value": "streetsuits0@gmail.com" },
          { "name": "EMAIL_FROM", "value": "streetsuits0@gmail.com" },
          { "name": "EMAIL_HOST_PASSWORD", "value": "fhvpxomhgvmjvxwn" }
        ]
      }
    ]
  }
  